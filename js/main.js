VanillaTilt.init(document.querySelectorAll(".card"),{max:15,speed:400,glare:!0,"max-glare":.5});const canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d");function isPointInPolygon(e,t){function n(e,t,n,i,l,a){let o=(a-t)*(n-e)-(l-e)*(i-t);if(Math.abs(o)>1e-10)return!1;let s=(l-e)*(n-e)+(a-t)*(i-t);return!(s<0)&&!(s>(n-e)*(n-e)+(i-t)*(i-t))}if(function(e,t){for(let i=0,l=e.length-1;i<e.length;l=i++){let{x:a,y:o}=e[i],{x:s,y:r}=e[l];if(n(a,o,s,r,t.x,t.y))return!0}return!1}(e,t))return!1;let i=!1;for(let n=0,l=e.length-1;n<e.length;l=n++){let a=e[n].x,o=e[n].y,s=e[l].x,r=e[l].y;o>t.y!=r>t.y&&t.x<(s-a)*(t.y-o)/(r-o)+a&&(i=!i)}return i}function parsePolygonInput(e){return e.split(" ").map((e=>{let[t,n]=e.split(",").map(Number);return{x:t,y:n}})).filter((e=>!isNaN(e.x)&&!isNaN(e.y)))}function parsePointInput(e){if(!e.trim())return null;let[t,n]=e.split(",").map(Number);return isNaN(t)||isNaN(n)?null:{x:t,y:n}}function getBoundingBox(e,t){return{minX:Math.min(...e.map((e=>e.x)),t?.x??1/0),minY:Math.min(...e.map((e=>e.y)),t?.y??1/0),maxX:Math.max(...e.map((e=>e.x)),t?.x??-1/0),maxY:Math.max(...e.map((e=>e.y)),t?.y??-1/0)}}function normalizeShapes(e,t,n,i){let{minX:l,minY:a,maxX:o,maxY:s}=getBoundingBox(e,t),r=n/(o-l),m=i/(s-a),u=.8*Math.min(r,m);return{normalizedPolygon:e.map((e=>({x:(e.x-l)*u+.1*n,y:(e.y-a)*u+.1*i}))),normalizedPoint:t?{x:(t.x-l)*u+.1*n,y:(t.y-a)*u+.1*i}:null}}function drawPolygonAndPoint(e,t,n,i){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let n=1;n<t.length;n++)e.lineTo(t[n].x,t[n].y);e.closePath(),e.strokeStyle="#C9C9C9",e.lineWidth=2,e.stroke(),n&&(e.beginPath(),e.arc(n.x,n.y,5,0,2*Math.PI),e.fillStyle=i?"green":"red",e.fill(),e.strokeStyle="black",e.stroke())}function checkInputs(){let e=document.getElementById("input1").value,t=document.getElementById("input2").value;if(""!=e){let n=parsePolygonInput(e),i=parsePointInput(t),l=!!i&&isPointInPolygon(n,i);l?(document.getElementById("isInBtn").classList.remove("no"),document.getElementById("isInBtn").classList.add("yes"),document.getElementById("isInValue").textContent="yes"):(document.getElementById("isInBtn").classList.remove("yes"),document.getElementById("isInBtn").classList.add("no"),document.getElementById("isInValue").textContent="no");let{normalizedPolygon:a,normalizedPoint:o}=normalizeShapes(n,i,canvas.width,canvas.height);drawPolygonAndPoint(ctx,a,o,l)}else document.getElementById("isInBtn").classList.remove("no"),document.getElementById("isInBtn").classList.remove("yes"),document.getElementById("isInValue").textContent="null"}function resizeCanvas(){const e=document.querySelector(".card2"),t=document.getElementById("canvas");let n=e.clientWidth,i=e.clientHeight;t.width=n,t.height=i,checkInputs()}window.addEventListener("load",resizeCanvas),window.addEventListener("resize",resizeCanvas);